# 2D simulation

This code is a relic from the early stages of development and is no longer maintained. It is only included for reference. That said, it's fun to play with :)

## Compiling and executing

Compile and run as follows:

    mkdir build && cd build
    cmake ..
    make -j8
    ./WaterSim

## Making a video from PNGs

Running a simulation with the `Export PNGs` option checked in the GUI will export a series of PNG frames. You can turn these into an MP4 video as follows.

This command uses the program `ffmpeg` to take files numbered `0000.png, 0001.png, 0002.png, ...` in folder `PNG_out` (for instance generated by WaterSim when "Export PNGs" is enabled) and make an MP4 video of them:
    
    ffmpeg -r 40 -f image2 -s 1280x800 -i PNG_out/%04d.png -vcodec libx264 -crf 20  -pix_fmt yuv420p myvid.mp4

 - `-r`: frame rate (should be = 1/dt, dt is the timestep used in simulation)
 - `-s`: dimensions
 - `-crf`: quality, lower is better
 - `-i`: input images. Change folder name/location if necessary.
